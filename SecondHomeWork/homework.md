## Внимание

В данной работе выполнена функциональная декомпозиция для бизнес кейса, который уже был рассмотрен ранее ([тут](../July/homework.md)).\
Было найдено два архитектурных решения, одно из которых предполагает разработку системы с нуля.\
На нем и будет сконцентрирована данная ADR.

## Модели предметной области

В модели предметной области выделены следующие сущности:
```mermaid
classDiagram
Задачаo--Оценка
Работа..>Задача
РеестрРабот*--Работа
РеестрЗадач*--Задача
Профессор-->РеестрРабот
Профессор-->РеестрЗадач
Студент-->РеестрРабот
Студент-->РеестрЗадач
class Профессор{
    + просмотр задач
    + создание задач и их критериев
    + выставление оценок
    }

class Студент{
    + просмотр задач
    + загрузка работ по задачам
    + просмотр оценок
    + просмотр результата выполнения работ
    }

class Задача{
    }

class Оценка{
    }

class Работа{
    }

class РеестрРабот{
    }

class РеестрЗадач{
    }
```
## Функциональная декомпозиция #0
Можно обьединить две роли (Студент и Профессор) в одну роль пользователя.\
Оба взаимодействуют как с РеестромРабот так и Реестром Задач, есть общий функционал на просмотр задач/работ, отличие в правах можно разграничиваеть правами доступа.\


Контекст по итогу будет выглядеть так:
- контекст пользователя


```mermaid
flowchart TD

    A[Пользователь] -->|использует| B[РеестрЗадач]
    A -->|создает\nредактирует\nпросматривает| C[Задача]
    A -->|создает\nредактирует\nпросматривает| C[Работа]
    A -->|использует| D[РеестрРабот]
    A -->|использует| E[РеестрЗадач]    
```
## Функциональная декомпозиция #1
Первый вариант хорош так как проще в реализации и может быть реализован за более короткий промежуток времени\
Кажется что с точки зрения модифицируемости может быть хорошим вариантом разделить контексты Студента и Профессор\
Однако из диаграммы ниже видно что это приведет к большому дублированию функциональности и потенциально кода\
Проблему конечно можно решить за счет выделения некой общей части но это увеличит трудозатраты как по разработке так и по поддержанию системы

Контекст по итогу будет выглядеть так:
- контекст Студента
- контекст Профессора

```mermaid
flowchart TD

    A[Студент] -->|использует| B[РеестрЗадач]
    C[Профессор] -->|использует| B
    C -->|использует| D[РеестрРабот]
    A -->|использует| D  

    A --> |создает\nредактирует\nпросматривает| F[Работа]

    C --> |создает\nредактирует\nпросматривает| E[Задача]
```

## Сценарии изменений

- Добавление новых языков программирования для задач [вероятность - высокая]
- Добавление новых критериев оценки [вероятность - высокая]
- Изменения UI взаимодействия студентов и профессаров [вероятность - средняя]


## Сравнительный анализ
Для всех намеченных сценариев изменения - вариант декомпозиции #0 предпочтительнее, так как выделение различных контекстов (Студент, Профессор), не дают никаких преимуществ по модифицируемости , ось изменения во всех случаях затрагивает и контекст Студент, и контекст Профессор при этом реализация и поддержка решения будут более трудозатратными.